{"ast":null,"code":"import _objectSpread from\"/app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useRef,useEffect,createContext,useContext}from'react';import'./App.css';import axios from'axios';import{Chart as ChartJS,CategoryScale,LinearScale,PointElement,LineElement,BarElement,Title,Tooltip,Legend}from'chart.js';import{Line,Bar}from'react-chartjs-2';// Register Chart.js components\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";ChartJS.register(CategoryScale,LinearScale,PointElement,LineElement,BarElement,Title,Tooltip,Legend);const BACKEND_URL=process.env.REACT_APP_BACKEND_URL;const API=\"\".concat(BACKEND_URL,\"/api\");// Auth Context\nconst AuthContext=/*#__PURE__*/createContext();const useAuth=()=>{const context=useContext(AuthContext);if(!context){throw new Error('useAuth must be used within AuthProvider');}return context;};const AuthProvider=_ref=>{let{children}=_ref;const[user,setUser]=useState(null);const[token,setToken]=useState(localStorage.getItem('token'));useEffect(()=>{if(token){// Verify token and get user info\ngetCurrentUser();}},[token]);const getCurrentUser=async()=>{try{const response=await axios.get(\"\".concat(API,\"/auth/me\"),{headers:{Authorization:\"Bearer \".concat(token)}});setUser(response.data);}catch(error){logout();}};const login=async(email,password)=>{const response=await axios.post(\"\".concat(API,\"/auth/login\"),{email,password});const{access_token,user:userData}=response.data;localStorage.setItem('token',access_token);setToken(access_token);setUser(userData);return userData;};const signup=async userData=>{const response=await axios.post(\"\".concat(API,\"/auth/signup\"),userData);const{access_token,user:newUser}=response.data;localStorage.setItem('token',access_token);setToken(access_token);setUser(newUser);return newUser;};const logout=()=>{localStorage.removeItem('token');setToken(null);setUser(null);};return/*#__PURE__*/_jsx(AuthContext.Provider,{value:{user,token,login,signup,logout,isAuthenticated:!!token},children:children});};// Icon Components\nconst CameraIcon=()=>/*#__PURE__*/_jsxs(\"svg\",{width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M23 19C23 19.5304 22.7893 20.0391 22.4142 20.4142C22.0391 20.7893 21.5304 21 21 21H3C2.46957 21 1.96086 20.7893 1.58579 20.4142C1.21071 20.0391 1 19.5304 1 19V8C1 7.46957 1.21071 6.96086 1.58579 6.58579C1.96086 6.21071 2.46957 6 3 6H7L9 3H15L17 6H21C21.5304 6 22.0391 6.21071 22.4142 6.58579C22.7893 6.96086 23 7.46957 23 8V19Z\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M12 17C14.7614 17 17 14.7614 17 12C17 9.23858 14.7614 7 12 7C9.23858 7 7 9.23858 7 12C7 14.7614 9.23858 17 12 17Z\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"})]});const UploadIcon=()=>/*#__PURE__*/_jsxs(\"svg\",{width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 2.58579 20.4142C2.21071 20.0391 2 19.5304 2 19V15\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M17 8L12 3L7 8\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M12 3V15\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"})]});const UserIcon=()=>/*#__PURE__*/_jsxs(\"svg\",{width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M12 11C14.2091 11 16 9.20914 16 7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7C8 9.20914 9.79086 11 12 11Z\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"})]});const StatsIcon=()=>/*#__PURE__*/_jsxs(\"svg\",{width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M3 3V21H21\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M9 9L12 6L16 10L22 4\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"})]});const TrophyIcon=()=>/*#__PURE__*/_jsxs(\"svg\",{width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M6 9H4.5C3.11929 9 2 10.1193 2 11.5C2 12.8807 3.11929 14 4.5 14H6\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M18 9H19.5C20.8807 9 22 10.1193 22 11.5C22 12.8807 20.8807 14 19.5 14H18\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M6 9V14C6 16.2091 7.79086 18 10 18H14C16.2091 18 18 16.2091 18 14V9\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M6 9V6C6 4.34315 7.34315 3 9 3H15C16.6569 3 18 4.34315 18 6V9\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M12 21V18\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M9 21H15\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"})]});const AnalyticsIcon=()=>/*#__PURE__*/_jsxs(\"svg\",{width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M12 20V10\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M18 20V4\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M6 20V16\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"})]});const LogoutIcon=()=>/*#__PURE__*/_jsxs(\"svg\",{width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M9 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H9\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M16 17L21 12L16 7\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M21 12H9\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"})]});// Achievement notification component\nconst AchievementNotification=_ref2=>{let{achievements,onClose}=_ref2;useEffect(()=>{if(achievements.length>0){const timer=setTimeout(onClose,5000);return()=>clearTimeout(timer);}},[achievements,onClose]);if(achievements.length===0)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"fixed top-4 right-4 z-50 space-y-2\",children:achievements.map(achievement=>/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-button text-white p-4 rounded-lg shadow-lg max-w-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-3xl\",children:achievement.badge_icon}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"font-semibold\",children:[achievement.name,\" Unlocked!\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm opacity-90\",children:achievement.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs opacity-75\",children:[\"+\",achievement.points,\" points\"]})]})]})},achievement.id))});};// Login/Signup Component\nconst AuthScreen=()=>{const{login,signup}=useAuth();const[isLogin,setIsLogin]=useState(true);const[loading,setLoading]=useState(false);const[formData,setFormData]=useState({email:'',password:'',name:'',age:'',gender:'male',height_cm:'',weight_kg:'',activity_level:'moderately_active',goal:'maintain',goal_weight_kg:''});const handleSubmit=async e=>{e.preventDefault();setLoading(true);try{if(isLogin){await login(formData.email,formData.password);}else{const signupData=_objectSpread(_objectSpread({},formData),{},{age:parseInt(formData.age),height_cm:parseFloat(formData.height_cm),weight_kg:parseFloat(formData.weight_kg),goal_weight_kg:formData.goal_weight_kg?parseFloat(formData.goal_weight_kg):null});await signup(signupData);}}catch(error){var _error$response,_error$response$data;alert(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.detail)||'Authentication failed');}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-hero flex items-center justify-center px-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full max-w-md\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-lg p-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"heading-2 text-center mb-6\",children:isLogin?'Welcome Back':'Join CaloriePro'}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block body-small text-gray-700 mb-1\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",required:true,className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",value:formData.email,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{email:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block body-small text-gray-700 mb-1\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",required:true,className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",value:formData.password,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{password:e.target.value}))})]}),!isLogin&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block body-small text-gray-700 mb-1\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",value:formData.name,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{name:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block body-small text-gray-700 mb-1\",children:\"Age\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",required:true,className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",value:formData.age,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{age:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block body-small text-gray-700 mb-1\",children:\"Gender\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",value:formData.gender,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{gender:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"male\",children:\"Male\"}),/*#__PURE__*/_jsx(\"option\",{value:\"female\",children:\"Female\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block body-small text-gray-700 mb-1\",children:\"Height (cm)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",required:true,className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",value:formData.height_cm,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{height_cm:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block body-small text-gray-700 mb-1\",children:\"Weight (kg)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",required:true,className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",value:formData.weight_kg,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{weight_kg:e.target.value}))})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block body-small text-gray-700 mb-1\",children:\"Activity Level\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",value:formData.activity_level,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{activity_level:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"sedentary\",children:\"Sedentary (little or no exercise)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"lightly_active\",children:\"Lightly Active (light exercise 1-3 days/week)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"moderately_active\",children:\"Moderately Active (moderate exercise 3-5 days/week)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"very_active\",children:\"Very Active (hard exercise 6-7 days/week)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"extremely_active\",children:\"Extremely Active (very hard exercise, physical job)\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block body-small text-gray-700 mb-1\",children:\"Goal\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",value:formData.goal,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{goal:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"lose\",children:\"Lose Weight\"}),/*#__PURE__*/_jsx(\"option\",{value:\"maintain\",children:\"Maintain Weight\"}),/*#__PURE__*/_jsx(\"option\",{value:\"gain\",children:\"Gain Weight\"})]})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"btn-primary w-full\",children:loading?'Loading...':isLogin?'Sign In':'Sign Up'})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-center mt-4 body-small\",children:[isLogin?\"Don't have an account? \":\"Already have an account? \",/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setIsLogin(!isLogin),className:\"text-blue-600 hover:underline\",children:isLogin?'Sign up':'Sign in'})]})]})})});};// Main App Component\nfunction App(){return/*#__PURE__*/_jsx(AuthProvider,{children:/*#__PURE__*/_jsx(AppContent,{})});}function AppContent(){const{user,isAuthenticated,logout,token}=useAuth();const[currentView,setCurrentView]=useState('camera');const[cameraActive,setCameraActive]=useState(false);const[capturedImage,setCapturedImage]=useState(null);const[isAnalyzing,setIsAnalyzing]=useState(false);const[analysisResult,setAnalysisResult]=useState(null);const[dailyStats,setDailyStats]=useState(null);const[foodEntries,setFoodEntries]=useState([]);const[streaks,setStreaks]=useState(null);const[achievements,setAchievements]=useState([]);const[weeklyAnalytics,setWeeklyAnalytics]=useState([]);const[monthlyAnalytics,setMonthlyAnalytics]=useState([]);const[analyticsSummary,setAnalyticsSummary]=useState(null);const[newAchievements,setNewAchievements]=useState([]);const videoRef=useRef(null);const canvasRef=useRef(null);const fileInputRef=useRef(null);useEffect(()=>{if(isAuthenticated&&user){loadUserData();}},[isAuthenticated,user]);const loadUserData=async()=>{if(!user)return;try{const headers={Authorization:\"Bearer \".concat(token)};// Load daily stats\nconst statsResponse=await axios.get(\"\".concat(API,\"/users/\").concat(user.id,\"/daily-stats\"),{headers});setDailyStats(statsResponse.data);// Load today's food entries\nconst today=new Date().toISOString().split('T')[0];const entriesResponse=await axios.get(\"\".concat(API,\"/users/\").concat(user.id,\"/food-entries?date_filter=\").concat(today),{headers});setFoodEntries(entriesResponse.data);// Load streaks\nconst streaksResponse=await axios.get(\"\".concat(API,\"/users/\").concat(user.id,\"/streaks\"),{headers});setStreaks(streaksResponse.data);// Load achievements\nconst achievementsResponse=await axios.get(\"\".concat(API,\"/users/\").concat(user.id,\"/achievements\"),{headers});setAchievements(achievementsResponse.data);// Load analytics data\nif(currentView==='analytics'){await loadAnalytics();}}catch(error){console.error('Error loading user data:',error);}};const loadAnalytics=async()=>{if(!user)return;try{const headers={Authorization:\"Bearer \".concat(token)};// Load weekly analytics\nconst weeklyResponse=await axios.get(\"\".concat(API,\"/users/\").concat(user.id,\"/analytics/weekly\"),{headers});setWeeklyAnalytics(weeklyResponse.data);// Load monthly analytics\nconst monthlyResponse=await axios.get(\"\".concat(API,\"/users/\").concat(user.id,\"/analytics/monthly\"),{headers});setMonthlyAnalytics(monthlyResponse.data);// Load summary\nconst summaryResponse=await axios.get(\"\".concat(API,\"/users/\").concat(user.id,\"/analytics/summary\"),{headers});setAnalyticsSummary(summaryResponse.data);}catch(error){console.error('Error loading analytics:',error);}};const startCamera=async()=>{try{const stream=await navigator.mediaDevices.getUserMedia({video:{facingMode:'environment'}});if(videoRef.current){videoRef.current.srcObject=stream;setCameraActive(true);}}catch(error){console.error('Error accessing camera:',error);alert('Error accessing camera. Please allow camera permissions or use file upload.');}};const stopCamera=()=>{if(videoRef.current&&videoRef.current.srcObject){videoRef.current.srcObject.getTracks().forEach(track=>track.stop());setCameraActive(false);}};const capturePhoto=()=>{const canvas=canvasRef.current;const video=videoRef.current;if(canvas&&video){canvas.width=video.videoWidth;canvas.height=video.videoHeight;const ctx=canvas.getContext('2d');ctx.drawImage(video,0,0);canvas.toBlob(blob=>{const reader=new FileReader();reader.onload=()=>{setCapturedImage(reader.result);stopCamera();};reader.readAsDataURL(blob);});}};const handleFileUpload=event=>{const file=event.target.files[0];if(file){const reader=new FileReader();reader.onload=e=>{setCapturedImage(e.target.result);};reader.readAsDataURL(file);}};const analyzeFood=async()=>{if(!capturedImage)return;setIsAnalyzing(true);try{const response=await fetch(capturedImage);const blob=await response.blob();const formData=new FormData();formData.append('file',blob,'food_image.jpg');const analysisResponse=await axios.post(\"\".concat(API,\"/analyze-food\"),formData,{headers:{'Content-Type':'multipart/form-data','Authorization':\"Bearer \".concat(token)}});setAnalysisResult(analysisResponse.data);}catch(error){console.error('Error analyzing food:',error);alert('Error analyzing food. Please try again.');}finally{setIsAnalyzing(false);}};const logFood=async()=>{if(!analysisResult||!user)return;try{const formData=new FormData();formData.append('user_id',user.id);formData.append('food_name',analysisResult.food_name);formData.append('calories_per_100g',analysisResult.calories_per_100g);formData.append('protein_per_100g',analysisResult.protein_per_100g);formData.append('carbs_per_100g',analysisResult.carbs_per_100g||0);formData.append('fat_per_100g',analysisResult.fat_per_100g||0);formData.append('estimated_portion_g',analysisResult.estimated_portion_g);formData.append('total_calories',analysisResult.total_calories);formData.append('total_protein',analysisResult.total_protein);formData.append('image_base64',analysisResult.image_base64);formData.append('analysis_confidence',analysisResult.confidence);const response=await axios.post(\"\".concat(API,\"/food-entries\"),formData,{headers:{'Authorization':\"Bearer \".concat(token)}});// Check for new achievements\nif(response.data.newly_unlocked_achievements&&response.data.newly_unlocked_achievements.length>0){setNewAchievements(response.data.newly_unlocked_achievements);}// Refresh data\nloadUserData();// Reset states\nsetCapturedImage(null);setAnalysisResult(null);alert('Food logged successfully!');}catch(error){console.error('Error logging food:',error);alert('Error logging food. Please try again.');}};const resetCapture=()=>{setCapturedImage(null);setAnalysisResult(null);};// Chart configurations\nconst weeklyChartData={labels:weeklyAnalytics.map(w=>\"Week of \".concat(new Date(w.week_start).toLocaleDateString())),datasets:[{label:'Average Calories',data:weeklyAnalytics.map(w=>w.avg_calories),borderColor:'rgb(75, 192, 192)',backgroundColor:'rgba(75, 192, 192, 0.2)',yAxisID:'y'},{label:'Average Protein (g)',data:weeklyAnalytics.map(w=>w.avg_protein),borderColor:'rgb(255, 99, 132)',backgroundColor:'rgba(255, 99, 132, 0.2)',yAxisID:'y1'}]};const weeklyChartOptions={responsive:true,interaction:{mode:'index',intersect:false},scales:{x:{display:true,title:{display:true,text:'Week'}},y:{type:'linear',display:true,position:'left',title:{display:true,text:'Calories'}},y1:{type:'linear',display:true,position:'right',title:{display:true,text:'Protein (g)'},grid:{drawOnChartArea:false}}}};const monthlyChartData={labels:monthlyAnalytics.map(m=>\"\".concat(m.month,\" \").concat(m.year)),datasets:[{label:'Days Logged',data:monthlyAnalytics.map(m=>m.days_logged),backgroundColor:'rgba(53, 162, 235, 0.5)'},{label:'Goal Adherence %',data:monthlyAnalytics.map(m=>m.goal_adherence),backgroundColor:'rgba(255, 206, 86, 0.5)'}]};if(!isAuthenticated){return/*#__PURE__*/_jsx(AuthScreen,{});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(AchievementNotification,{achievements:newAchievements,onClose:()=>setNewAchievements([])}),/*#__PURE__*/_jsx(\"header\",{className:\"bg-white shadow-sm border-b border-gray-200\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto px-4 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"heading-3\",children:\"CaloriePro\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[streaks&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl\",children:\"\\uD83D\\uDD25\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"body-small text-gray-600\",children:[streaks.current_streak,\" day streak\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"body-small text-gray-600\",children:[\"Hi, \",user===null||user===void 0?void 0:user.name,\"!\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:logout,className:\"p-2 text-gray-600 hover:text-red-600\",title:\"Logout\",children:/*#__PURE__*/_jsx(LogoutIcon,{})})]})]})]})})}),/*#__PURE__*/_jsx(\"nav\",{className:\"bg-white border-b border-gray-200\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-1\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setCurrentView('camera'),className:\"nav-link \".concat(currentView==='camera'?'bg-blue-50 text-blue-600':''),children:[/*#__PURE__*/_jsx(CameraIcon,{}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2\",children:\"Scan Food\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setCurrentView('stats'),className:\"nav-link \".concat(currentView==='stats'?'bg-blue-50 text-blue-600':''),children:[/*#__PURE__*/_jsx(StatsIcon,{}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2\",children:\"Daily Stats\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setCurrentView('achievements');},className:\"nav-link \".concat(currentView==='achievements'?'bg-blue-50 text-blue-600':''),children:[/*#__PURE__*/_jsx(TrophyIcon,{}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2\",children:\"Achievements\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setCurrentView('analytics');loadAnalytics();},className:\"nav-link \".concat(currentView==='analytics'?'bg-blue-50 text-blue-600':''),children:[/*#__PURE__*/_jsx(AnalyticsIcon,{}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2\",children:\"Analytics\"})]})]})})}),/*#__PURE__*/_jsxs(\"main\",{className:\"container mx-auto px-4 py-6\",children:[currentView==='camera'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[dailyStats&&/*#__PURE__*/_jsxs(\"div\",{className:\"service-card\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"service-card-title mb-4\",children:\"Today's Progress\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"heading-4 text-blue-600\",children:dailyStats.total_calories}),/*#__PURE__*/_jsxs(\"div\",{className:\"body-small text-gray-600\",children:[\"of \",dailyStats.recommended_calories,\" calories\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2 mt-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-2 rounded-full \".concat(dailyStats.calorie_goal_met?'bg-green-500':'bg-blue-500'),style:{width:\"\".concat(Math.min(dailyStats.total_calories/dailyStats.recommended_calories*100,100),\"%\")}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"heading-4 text-green-600\",children:[dailyStats.total_protein,\"g\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"body-small text-gray-600\",children:[\"of \",dailyStats.recommended_protein,\"g protein\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2 mt-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-2 rounded-full \".concat(dailyStats.protein_goal_met?'bg-green-500':'bg-orange-500'),style:{width:\"\".concat(Math.min(dailyStats.total_protein/dailyStats.recommended_protein*100,100),\"%\")}})})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"service-card text-center\",children:!capturedImage?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"service-card-title mb-4\",children:\"Scan or Upload Food Image\"}),!cameraActive?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:startCamera,className:\"btn-primary\",children:[/*#__PURE__*/_jsx(CameraIcon,{}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2\",children:\"Take Photo\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{var _fileInputRef$current;return(_fileInputRef$current=fileInputRef.current)===null||_fileInputRef$current===void 0?void 0:_fileInputRef$current.click();},className:\"btn-secondary\",children:[/*#__PURE__*/_jsx(UploadIcon,{}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2\",children:\"Upload Image\"})]})]}),/*#__PURE__*/_jsx(\"input\",{ref:fileInputRef,type:\"file\",accept:\"image/*\",onChange:handleFileUpload,className:\"hidden\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"video\",{ref:videoRef,autoPlay:true,playsInline:true,className:\"w-full max-w-md mx-auto rounded-lg\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4 justify-center\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:capturePhoto,className:\"btn-primary\",children:\"Capture Photo\"}),/*#__PURE__*/_jsx(\"button\",{onClick:stopCamera,className:\"btn-secondary\",children:\"Cancel\"})]})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"img\",{src:capturedImage,alt:\"Captured food\",className:\"w-full max-w-md mx-auto rounded-lg\"}),!analysisResult?/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4 justify-center\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:analyzeFood,disabled:isAnalyzing,className:\"btn-primary\",children:isAnalyzing?'Analyzing...':'Analyze Food'}),/*#__PURE__*/_jsx(\"button\",{onClick:resetCapture,className:\"btn-secondary\",children:\"Retake\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-4 text-left\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"heading-4 mb-2\",children:analysisResult.food_name}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-2 body-small\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Portion: \",analysisResult.estimated_portion_g,\"g\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Confidence: \",analysisResult.confidence]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Calories: \",analysisResult.total_calories]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Protein: \",analysisResult.total_protein,\"g\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4 justify-center\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:logFood,className:\"btn-primary\",children:\"Log This Food\"}),/*#__PURE__*/_jsx(\"button\",{onClick:resetCapture,className:\"btn-secondary\",children:\"Start Over\"})]})]})]})})]}),currentView==='stats'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[dailyStats&&/*#__PURE__*/_jsxs(\"div\",{className:\"service-card\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"service-card-title mb-4\",children:\"Daily Nutrition Summary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"body-medium\",children:\"Calories\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"heading-4\",children:[dailyStats.total_calories,\" / \",dailyStats.recommended_calories]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-2 rounded-full \".concat(dailyStats.calorie_goal_met?'bg-green-500':'bg-blue-500'),style:{width:\"\".concat(Math.min(dailyStats.total_calories/dailyStats.recommended_calories*100,100),\"%\")}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"body-medium\",children:\"Protein\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"heading-4\",children:[dailyStats.total_protein,\"g / \",dailyStats.recommended_protein,\"g\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-2 rounded-full \".concat(dailyStats.protein_goal_met?'bg-green-500':'bg-orange-500'),style:{width:\"\".concat(Math.min(dailyStats.total_protein/dailyStats.recommended_protein*100,100),\"%\")}})})]})]}),streaks&&/*#__PURE__*/_jsxs(\"div\",{className:\"service-card\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"service-card-title mb-4\",children:\"Your Streaks \\uD83D\\uDD25\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-4 text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"heading-3 text-orange-600\",children:streaks.current_streak}),/*#__PURE__*/_jsx(\"div\",{className:\"body-small text-gray-600\",children:\"Current Streak\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"heading-3 text-purple-600\",children:streaks.longest_streak}),/*#__PURE__*/_jsx(\"div\",{className:\"body-small text-gray-600\",children:\"Longest Streak\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"heading-3 text-blue-600\",children:streaks.total_days_logged}),/*#__PURE__*/_jsx(\"div\",{className:\"body-small text-gray-600\",children:\"Total Days\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"service-card\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"service-card-title mb-4\",children:\"Today's Food Log\"}),foodEntries.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:foodEntries.map(entry=>/*#__PURE__*/_jsx(\"div\",{className:\"border-b border-gray-200 pb-3 last:border-b-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"body-medium font-medium\",children:entry.food_name}),/*#__PURE__*/_jsxs(\"div\",{className:\"body-small text-gray-600\",children:[entry.estimated_portion_g,\"g portion\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"body-small\",children:[entry.total_calories,\" cal\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"body-small text-gray-600\",children:[entry.total_protein,\"g protein\"]})]})]})},entry.id))}):/*#__PURE__*/_jsx(\"p\",{className:\"body-medium text-gray-500 text-center py-4\",children:\"No food entries for today. Start scanning your meals!\"})]})]}),currentView==='achievements'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"service-card\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"service-card-title mb-4\",children:\"Your Achievements \\uD83C\\uDFC6\"}),achievements.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:achievements.map(achievement=>/*#__PURE__*/_jsx(\"div\",{className:\"border border-gray-200 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-3xl\",children:achievement.badge_icon}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"body-medium font-semibold\",children:achievement.name}),/*#__PURE__*/_jsx(\"div\",{className:\"body-small text-gray-600\",children:achievement.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mt-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded text-xs font-medium \".concat(achievement.rarity==='platinum'?'bg-gray-900 text-white':achievement.rarity==='gold'?'bg-yellow-500 text-white':achievement.rarity==='silver'?'bg-gray-400 text-white':'bg-amber-600 text-white'),children:achievement.rarity.toUpperCase()}),/*#__PURE__*/_jsxs(\"span\",{className:\"body-small text-gray-500\",children:[\"+\",achievement.points,\" pts\"]})]})]})]})},achievement.id))}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-6xl\",children:\"\\uD83C\\uDFC6\"}),/*#__PURE__*/_jsx(\"p\",{className:\"body-medium text-gray-500 mt-4\",children:\"No achievements yet. Start logging meals to unlock your first badge!\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"service-card\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"service-card-title mb-4\",children:\"Next Milestones\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"body-small text-gray-600\",children:[\"\\uD83D\\uDD25 Log meals for \",Math.max(3-((streaks===null||streaks===void 0?void 0:streaks.current_streak)||0),0),\" more days to unlock \\\"Three Day Warrior\\\"\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"body-small text-gray-600\",children:\"\\uD83D\\uDCAA Meet your protein goal to unlock \\\"Protein Seeker\\\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"body-small text-gray-600\",children:[\"\\uD83D\\uDCDD Log \",Math.max(50-((streaks===null||streaks===void 0?void 0:streaks.total_days_logged)||0),0),\" more meals to become a \\\"Dedicated Logger\\\"\"]})]})]})]}),currentView==='analytics'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[analyticsSummary&&/*#__PURE__*/_jsxs(\"div\",{className:\"service-card\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"service-card-title mb-4\",children:\"Analytics Overview\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"heading-3 text-blue-600\",children:analyticsSummary.total_entries}),/*#__PURE__*/_jsx(\"div\",{className:\"body-small text-gray-600\",children:\"Total Entries\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"heading-3 text-orange-600\",children:analyticsSummary.current_streak}),/*#__PURE__*/_jsx(\"div\",{className:\"body-small text-gray-600\",children:\"Current Streak\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"heading-3 text-purple-600\",children:analyticsSummary.total_achievements}),/*#__PURE__*/_jsx(\"div\",{className:\"body-small text-gray-600\",children:\"Achievements\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"heading-3 text-green-600\",children:analyticsSummary.this_month_entries}),/*#__PURE__*/_jsx(\"div\",{className:\"body-small text-gray-600\",children:\"This Month\"})]})]})]}),weeklyAnalytics.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"service-card\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"service-card-title mb-4\",children:\"Weekly Nutrition Trends\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-96\",children:/*#__PURE__*/_jsx(Line,{data:weeklyChartData,options:weeklyChartOptions})})]}),monthlyAnalytics.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"service-card\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"service-card-title mb-4\",children:\"Monthly Consistency\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-96\",children:/*#__PURE__*/_jsx(Bar,{data:monthlyChartData,options:{responsive:true,maintainAspectRatio:false,scales:{y:{beginAtZero:true,title:{display:true,text:'Count / Percentage'}}}}})})]}),monthlyAnalytics.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"service-card\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"service-card-title mb-4\",children:\"Monthly Breakdown\"}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full text-left\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"border-b\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"body-small text-gray-600 pb-2\",children:\"Month\"}),/*#__PURE__*/_jsx(\"th\",{className:\"body-small text-gray-600 pb-2\",children:\"Days Logged\"}),/*#__PURE__*/_jsx(\"th\",{className:\"body-small text-gray-600 pb-2\",children:\"Avg Calories\"}),/*#__PURE__*/_jsx(\"th\",{className:\"body-small text-gray-600 pb-2\",children:\"Avg Protein\"}),/*#__PURE__*/_jsx(\"th\",{className:\"body-small text-gray-600 pb-2\",children:\"Goal Adherence\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:monthlyAnalytics.map((month,index)=>/*#__PURE__*/_jsxs(\"tr\",{className:\"border-b\",children:[/*#__PURE__*/_jsxs(\"td\",{className:\"body-medium py-2\",children:[month.month,\" \",month.year]}),/*#__PURE__*/_jsx(\"td\",{className:\"body-small py-2\",children:month.days_logged}),/*#__PURE__*/_jsx(\"td\",{className:\"body-small py-2\",children:month.avg_calories}),/*#__PURE__*/_jsxs(\"td\",{className:\"body-small py-2\",children:[month.avg_protein,\"g\"]}),/*#__PURE__*/_jsxs(\"td\",{className:\"body-small py-2\",children:[month.goal_adherence,\"%\"]})]},index))})]})})]})]})]}),/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef,style:{display:'none'}})]});}export default App;","map":{"version":3,"names":["React","useState","useRef","useEffect","createContext","useContext","axios","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","BarElement","Title","Tooltip","Legend","Line","Bar","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","register","BACKEND_URL","process","env","REACT_APP_BACKEND_URL","API","concat","AuthContext","useAuth","context","Error","AuthProvider","_ref","children","user","setUser","token","setToken","localStorage","getItem","getCurrentUser","response","get","headers","Authorization","data","error","logout","login","email","password","post","access_token","userData","setItem","signup","newUser","removeItem","Provider","value","isAuthenticated","CameraIcon","width","height","viewBox","fill","xmlns","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","UploadIcon","UserIcon","StatsIcon","TrophyIcon","AnalyticsIcon","LogoutIcon","AchievementNotification","_ref2","achievements","onClose","length","timer","setTimeout","clearTimeout","className","map","achievement","badge_icon","name","description","points","id","AuthScreen","isLogin","setIsLogin","loading","setLoading","formData","setFormData","age","gender","height_cm","weight_kg","activity_level","goal","goal_weight_kg","handleSubmit","e","preventDefault","signupData","_objectSpread","parseInt","parseFloat","_error$response","_error$response$data","alert","detail","onSubmit","type","required","onChange","target","disabled","onClick","App","AppContent","currentView","setCurrentView","cameraActive","setCameraActive","capturedImage","setCapturedImage","isAnalyzing","setIsAnalyzing","analysisResult","setAnalysisResult","dailyStats","setDailyStats","foodEntries","setFoodEntries","streaks","setStreaks","setAchievements","weeklyAnalytics","setWeeklyAnalytics","monthlyAnalytics","setMonthlyAnalytics","analyticsSummary","setAnalyticsSummary","newAchievements","setNewAchievements","videoRef","canvasRef","fileInputRef","loadUserData","statsResponse","today","Date","toISOString","split","entriesResponse","streaksResponse","achievementsResponse","loadAnalytics","console","weeklyResponse","monthlyResponse","summaryResponse","startCamera","stream","navigator","mediaDevices","getUserMedia","video","facingMode","current","srcObject","stopCamera","getTracks","forEach","track","stop","capturePhoto","canvas","videoWidth","videoHeight","ctx","getContext","drawImage","toBlob","blob","reader","FileReader","onload","result","readAsDataURL","handleFileUpload","event","file","files","analyzeFood","fetch","FormData","append","analysisResponse","logFood","food_name","calories_per_100g","protein_per_100g","carbs_per_100g","fat_per_100g","estimated_portion_g","total_calories","total_protein","image_base64","confidence","newly_unlocked_achievements","resetCapture","weeklyChartData","labels","w","week_start","toLocaleDateString","datasets","label","avg_calories","borderColor","backgroundColor","yAxisID","avg_protein","weeklyChartOptions","responsive","interaction","mode","intersect","scales","x","display","title","text","y","position","y1","grid","drawOnChartArea","monthlyChartData","m","month","year","days_logged","goal_adherence","current_streak","recommended_calories","calorie_goal_met","style","Math","min","recommended_protein","protein_goal_met","_fileInputRef$current","click","ref","accept","autoPlay","playsInline","src","alt","longest_streak","total_days_logged","entry","rarity","toUpperCase","max","total_entries","total_achievements","this_month_entries","options","maintainAspectRatio","beginAtZero","index"],"sources":["/app/frontend/src/App.js"],"sourcesContent":["import React, { useState, useRef, useEffect, createContext, useContext } from 'react';\nimport './App.css';\nimport axios from 'axios';\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  BarElement,\n  Title,\n  Tooltip,\n  Legend,\n} from 'chart.js';\nimport { Line, Bar } from 'react-chartjs-2';\n\n// Register Chart.js components\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  BarElement,\n  Title,\n  Tooltip,\n  Legend\n);\n\nconst BACKEND_URL = process.env.REACT_APP_BACKEND_URL;\nconst API = `${BACKEND_URL}/api`;\n\n// Auth Context\nconst AuthContext = createContext();\n\nconst useAuth = () => {\n  const context = useContext(AuthContext);\n  if (!context) {\n    throw new Error('useAuth must be used within AuthProvider');\n  }\n  return context;\n};\n\nconst AuthProvider = ({ children }) => {\n  const [user, setUser] = useState(null);\n  const [token, setToken] = useState(localStorage.getItem('token'));\n\n  useEffect(() => {\n    if (token) {\n      // Verify token and get user info\n      getCurrentUser();\n    }\n  }, [token]);\n\n  const getCurrentUser = async () => {\n    try {\n      const response = await axios.get(`${API}/auth/me`, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      setUser(response.data);\n    } catch (error) {\n      logout();\n    }\n  };\n\n  const login = async (email, password) => {\n    const response = await axios.post(`${API}/auth/login`, { email, password });\n    const { access_token, user: userData } = response.data;\n    \n    localStorage.setItem('token', access_token);\n    setToken(access_token);\n    setUser(userData);\n    \n    return userData;\n  };\n\n  const signup = async (userData) => {\n    const response = await axios.post(`${API}/auth/signup`, userData);\n    const { access_token, user: newUser } = response.data;\n    \n    localStorage.setItem('token', access_token);\n    setToken(access_token);\n    setUser(newUser);\n    \n    return newUser;\n  };\n\n  const logout = () => {\n    localStorage.removeItem('token');\n    setToken(null);\n    setUser(null);\n  };\n\n  return (\n    <AuthContext.Provider value={{ user, token, login, signup, logout, isAuthenticated: !!token }}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n\n// Icon Components\nconst CameraIcon = () => (\n  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M23 19C23 19.5304 22.7893 20.0391 22.4142 20.4142C22.0391 20.7893 21.5304 21 21 21H3C2.46957 21 1.96086 20.7893 1.58579 20.4142C1.21071 20.0391 1 19.5304 1 19V8C1 7.46957 1.21071 6.96086 1.58579 6.58579C1.96086 6.21071 2.46957 6 3 6H7L9 3H15L17 6H21C21.5304 6 22.0391 6.21071 22.4142 6.58579C22.7893 6.96086 23 7.46957 23 8V19Z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M12 17C14.7614 17 17 14.7614 17 12C17 9.23858 14.7614 7 12 7C9.23858 7 7 9.23858 7 12C7 14.7614 9.23858 17 12 17Z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n);\n\nconst UploadIcon = () => (\n  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 2.58579 20.4142C2.21071 20.0391 2 19.5304 2 19V15\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M17 8L12 3L7 8\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M12 3V15\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n);\n\nconst UserIcon = () => (\n  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M12 11C14.2091 11 16 9.20914 16 7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7C8 9.20914 9.79086 11 12 11Z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n);\n\nconst StatsIcon = () => (\n  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M3 3V21H21\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M9 9L12 6L16 10L22 4\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n);\n\nconst TrophyIcon = () => (\n  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M6 9H4.5C3.11929 9 2 10.1193 2 11.5C2 12.8807 3.11929 14 4.5 14H6\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M18 9H19.5C20.8807 9 22 10.1193 22 11.5C22 12.8807 20.8807 14 19.5 14H18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M6 9V14C6 16.2091 7.79086 18 10 18H14C16.2091 18 18 16.2091 18 14V9\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M6 9V6C6 4.34315 7.34315 3 9 3H15C16.6569 3 18 4.34315 18 6V9\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M12 21V18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M9 21H15\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n);\n\nconst AnalyticsIcon = () => (\n  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M12 20V10\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M18 20V4\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M6 20V16\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n);\n\nconst LogoutIcon = () => (\n  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M9 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H9\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M16 17L21 12L16 7\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M21 12H9\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n);\n\n// Achievement notification component\nconst AchievementNotification = ({ achievements, onClose }) => {\n  useEffect(() => {\n    if (achievements.length > 0) {\n      const timer = setTimeout(onClose, 5000);\n      return () => clearTimeout(timer);\n    }\n  }, [achievements, onClose]);\n\n  if (achievements.length === 0) return null;\n\n  return (\n    <div className=\"fixed top-4 right-4 z-50 space-y-2\">\n      {achievements.map((achievement) => (\n        <div key={achievement.id} className=\"bg-gradient-button text-white p-4 rounded-lg shadow-lg max-w-sm\">\n          <div className=\"flex items-center space-x-3\">\n            <span className=\"text-3xl\">{achievement.badge_icon}</span>\n            <div>\n              <div className=\"font-semibold\">{achievement.name} Unlocked!</div>\n              <div className=\"text-sm opacity-90\">{achievement.description}</div>\n              <div className=\"text-xs opacity-75\">+{achievement.points} points</div>\n            </div>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n};\n\n// Login/Signup Component\nconst AuthScreen = () => {\n  const { login, signup } = useAuth();\n  const [isLogin, setIsLogin] = useState(true);\n  const [loading, setLoading] = useState(false);\n  const [formData, setFormData] = useState({\n    email: '',\n    password: '',\n    name: '',\n    age: '',\n    gender: 'male',\n    height_cm: '',\n    weight_kg: '',\n    activity_level: 'moderately_active',\n    goal: 'maintain',\n    goal_weight_kg: ''\n  });\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    \n    try {\n      if (isLogin) {\n        await login(formData.email, formData.password);\n      } else {\n        const signupData = {\n          ...formData,\n          age: parseInt(formData.age),\n          height_cm: parseFloat(formData.height_cm),\n          weight_kg: parseFloat(formData.weight_kg),\n          goal_weight_kg: formData.goal_weight_kg ? parseFloat(formData.goal_weight_kg) : null\n        };\n        await signup(signupData);\n      }\n    } catch (error) {\n      alert(error.response?.data?.detail || 'Authentication failed');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-hero flex items-center justify-center px-4\">\n      <div className=\"w-full max-w-md\">\n        <div className=\"bg-white rounded-xl shadow-lg p-8\">\n          <h2 className=\"heading-2 text-center mb-6\">\n            {isLogin ? 'Welcome Back' : 'Join CaloriePro'}\n          </h2>\n          \n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div>\n              <label className=\"block body-small text-gray-700 mb-1\">Email</label>\n              <input\n                type=\"email\"\n                required\n                className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                value={formData.email}\n                onChange={(e) => setFormData({...formData, email: e.target.value})}\n              />\n            </div>\n            \n            <div>\n              <label className=\"block body-small text-gray-700 mb-1\">Password</label>\n              <input\n                type=\"password\"\n                required\n                className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                value={formData.password}\n                onChange={(e) => setFormData({...formData, password: e.target.value})}\n              />\n            </div>\n\n            {!isLogin && (\n              <>\n                <div>\n                  <label className=\"block body-small text-gray-700 mb-1\">Name</label>\n                  <input\n                    type=\"text\"\n                    required\n                    className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    value={formData.name}\n                    onChange={(e) => setFormData({...formData, name: e.target.value})}\n                  />\n                </div>\n                \n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block body-small text-gray-700 mb-1\">Age</label>\n                    <input\n                      type=\"number\"\n                      required\n                      className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      value={formData.age}\n                      onChange={(e) => setFormData({...formData, age: e.target.value})}\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block body-small text-gray-700 mb-1\">Gender</label>\n                    <select\n                      className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      value={formData.gender}\n                      onChange={(e) => setFormData({...formData, gender: e.target.value})}\n                    >\n                      <option value=\"male\">Male</option>\n                      <option value=\"female\">Female</option>\n                    </select>\n                  </div>\n                </div>\n                \n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block body-small text-gray-700 mb-1\">Height (cm)</label>\n                    <input\n                      type=\"number\"\n                      required\n                      className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      value={formData.height_cm}\n                      onChange={(e) => setFormData({...formData, height_cm: e.target.value})}\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block body-small text-gray-700 mb-1\">Weight (kg)</label>\n                    <input\n                      type=\"number\"\n                      required\n                      className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      value={formData.weight_kg}\n                      onChange={(e) => setFormData({...formData, weight_kg: e.target.value})}\n                    />\n                  </div>\n                </div>\n                \n                <div>\n                  <label className=\"block body-small text-gray-700 mb-1\">Activity Level</label>\n                  <select\n                    className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    value={formData.activity_level}\n                    onChange={(e) => setFormData({...formData, activity_level: e.target.value})}\n                  >\n                    <option value=\"sedentary\">Sedentary (little or no exercise)</option>\n                    <option value=\"lightly_active\">Lightly Active (light exercise 1-3 days/week)</option>\n                    <option value=\"moderately_active\">Moderately Active (moderate exercise 3-5 days/week)</option>\n                    <option value=\"very_active\">Very Active (hard exercise 6-7 days/week)</option>\n                    <option value=\"extremely_active\">Extremely Active (very hard exercise, physical job)</option>\n                  </select>\n                </div>\n                \n                <div>\n                  <label className=\"block body-small text-gray-700 mb-1\">Goal</label>\n                  <select\n                    className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    value={formData.goal}\n                    onChange={(e) => setFormData({...formData, goal: e.target.value})}\n                  >\n                    <option value=\"lose\">Lose Weight</option>\n                    <option value=\"maintain\">Maintain Weight</option>\n                    <option value=\"gain\">Gain Weight</option>\n                  </select>\n                </div>\n              </>\n            )}\n            \n            <button \n              type=\"submit\" \n              disabled={loading}\n              className=\"btn-primary w-full\"\n            >\n              {loading ? 'Loading...' : (isLogin ? 'Sign In' : 'Sign Up')}\n            </button>\n          </form>\n          \n          <p className=\"text-center mt-4 body-small\">\n            {isLogin ? \"Don't have an account? \" : \"Already have an account? \"}\n            <button\n              type=\"button\"\n              onClick={() => setIsLogin(!isLogin)}\n              className=\"text-blue-600 hover:underline\"\n            >\n              {isLogin ? 'Sign up' : 'Sign in'}\n            </button>\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Main App Component\nfunction App() {\n  return (\n    <AuthProvider>\n      <AppContent />\n    </AuthProvider>\n  );\n}\n\nfunction AppContent() {\n  const { user, isAuthenticated, logout, token } = useAuth();\n  const [currentView, setCurrentView] = useState('camera');\n  const [cameraActive, setCameraActive] = useState(false);\n  const [capturedImage, setCapturedImage] = useState(null);\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  const [analysisResult, setAnalysisResult] = useState(null);\n  const [dailyStats, setDailyStats] = useState(null);\n  const [foodEntries, setFoodEntries] = useState([]);\n  const [streaks, setStreaks] = useState(null);\n  const [achievements, setAchievements] = useState([]);\n  const [weeklyAnalytics, setWeeklyAnalytics] = useState([]);\n  const [monthlyAnalytics, setMonthlyAnalytics] = useState([]);\n  const [analyticsSummary, setAnalyticsSummary] = useState(null);\n  const [newAchievements, setNewAchievements] = useState([]);\n  \n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const fileInputRef = useRef(null);\n\n  useEffect(() => {\n    if (isAuthenticated && user) {\n      loadUserData();\n    }\n  }, [isAuthenticated, user]);\n\n  const loadUserData = async () => {\n    if (!user) return;\n    \n    try {\n      const headers = { Authorization: `Bearer ${token}` };\n      \n      // Load daily stats\n      const statsResponse = await axios.get(`${API}/users/${user.id}/daily-stats`, { headers });\n      setDailyStats(statsResponse.data);\n      \n      // Load today's food entries\n      const today = new Date().toISOString().split('T')[0];\n      const entriesResponse = await axios.get(`${API}/users/${user.id}/food-entries?date_filter=${today}`, { headers });\n      setFoodEntries(entriesResponse.data);\n      \n      // Load streaks\n      const streaksResponse = await axios.get(`${API}/users/${user.id}/streaks`, { headers });\n      setStreaks(streaksResponse.data);\n      \n      // Load achievements\n      const achievementsResponse = await axios.get(`${API}/users/${user.id}/achievements`, { headers });\n      setAchievements(achievementsResponse.data);\n      \n      // Load analytics data\n      if (currentView === 'analytics') {\n        await loadAnalytics();\n      }\n    } catch (error) {\n      console.error('Error loading user data:', error);\n    }\n  };\n\n  const loadAnalytics = async () => {\n    if (!user) return;\n    \n    try {\n      const headers = { Authorization: `Bearer ${token}` };\n      \n      // Load weekly analytics\n      const weeklyResponse = await axios.get(`${API}/users/${user.id}/analytics/weekly`, { headers });\n      setWeeklyAnalytics(weeklyResponse.data);\n      \n      // Load monthly analytics\n      const monthlyResponse = await axios.get(`${API}/users/${user.id}/analytics/monthly`, { headers });\n      setMonthlyAnalytics(monthlyResponse.data);\n      \n      // Load summary\n      const summaryResponse = await axios.get(`${API}/users/${user.id}/analytics/summary`, { headers });\n      setAnalyticsSummary(summaryResponse.data);\n    } catch (error) {\n      console.error('Error loading analytics:', error);\n    }\n  };\n\n  const startCamera = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({ \n        video: { facingMode: 'environment' } \n      });\n      if (videoRef.current) {\n        videoRef.current.srcObject = stream;\n        setCameraActive(true);\n      }\n    } catch (error) {\n      console.error('Error accessing camera:', error);\n      alert('Error accessing camera. Please allow camera permissions or use file upload.');\n    }\n  };\n\n  const stopCamera = () => {\n    if (videoRef.current && videoRef.current.srcObject) {\n      videoRef.current.srcObject.getTracks().forEach(track => track.stop());\n      setCameraActive(false);\n    }\n  };\n\n  const capturePhoto = () => {\n    const canvas = canvasRef.current;\n    const video = videoRef.current;\n    \n    if (canvas && video) {\n      canvas.width = video.videoWidth;\n      canvas.height = video.videoHeight;\n      const ctx = canvas.getContext('2d');\n      ctx.drawImage(video, 0, 0);\n      \n      canvas.toBlob((blob) => {\n        const reader = new FileReader();\n        reader.onload = () => {\n          setCapturedImage(reader.result);\n          stopCamera();\n        };\n        reader.readAsDataURL(blob);\n      });\n    }\n  };\n\n  const handleFileUpload = (event) => {\n    const file = event.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        setCapturedImage(e.target.result);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const analyzeFood = async () => {\n    if (!capturedImage) return;\n    \n    setIsAnalyzing(true);\n    try {\n      const response = await fetch(capturedImage);\n      const blob = await response.blob();\n      \n      const formData = new FormData();\n      formData.append('file', blob, 'food_image.jpg');\n      \n      const analysisResponse = await axios.post(`${API}/analyze-food`, formData, {\n        headers: { \n          'Content-Type': 'multipart/form-data',\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      \n      setAnalysisResult(analysisResponse.data);\n    } catch (error) {\n      console.error('Error analyzing food:', error);\n      alert('Error analyzing food. Please try again.');\n    } finally {\n      setIsAnalyzing(false);\n    }\n  };\n\n  const logFood = async () => {\n    if (!analysisResult || !user) return;\n    \n    try {\n      const formData = new FormData();\n      formData.append('user_id', user.id);\n      formData.append('food_name', analysisResult.food_name);\n      formData.append('calories_per_100g', analysisResult.calories_per_100g);\n      formData.append('protein_per_100g', analysisResult.protein_per_100g);\n      formData.append('carbs_per_100g', analysisResult.carbs_per_100g || 0);\n      formData.append('fat_per_100g', analysisResult.fat_per_100g || 0);\n      formData.append('estimated_portion_g', analysisResult.estimated_portion_g);\n      formData.append('total_calories', analysisResult.total_calories);\n      formData.append('total_protein', analysisResult.total_protein);\n      formData.append('image_base64', analysisResult.image_base64);\n      formData.append('analysis_confidence', analysisResult.confidence);\n      \n      const response = await axios.post(`${API}/food-entries`, formData, {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n      \n      // Check for new achievements\n      if (response.data.newly_unlocked_achievements && response.data.newly_unlocked_achievements.length > 0) {\n        setNewAchievements(response.data.newly_unlocked_achievements);\n      }\n      \n      // Refresh data\n      loadUserData();\n      \n      // Reset states\n      setCapturedImage(null);\n      setAnalysisResult(null);\n      \n      alert('Food logged successfully!');\n    } catch (error) {\n      console.error('Error logging food:', error);\n      alert('Error logging food. Please try again.');\n    }\n  };\n\n  const resetCapture = () => {\n    setCapturedImage(null);\n    setAnalysisResult(null);\n  };\n\n  // Chart configurations\n  const weeklyChartData = {\n    labels: weeklyAnalytics.map(w => `Week of ${new Date(w.week_start).toLocaleDateString()}`),\n    datasets: [\n      {\n        label: 'Average Calories',\n        data: weeklyAnalytics.map(w => w.avg_calories),\n        borderColor: 'rgb(75, 192, 192)',\n        backgroundColor: 'rgba(75, 192, 192, 0.2)',\n        yAxisID: 'y',\n      },\n      {\n        label: 'Average Protein (g)',\n        data: weeklyAnalytics.map(w => w.avg_protein),\n        borderColor: 'rgb(255, 99, 132)',\n        backgroundColor: 'rgba(255, 99, 132, 0.2)',\n        yAxisID: 'y1',\n      },\n    ],\n  };\n\n  const weeklyChartOptions = {\n    responsive: true,\n    interaction: {\n      mode: 'index',\n      intersect: false,\n    },\n    scales: {\n      x: {\n        display: true,\n        title: {\n          display: true,\n          text: 'Week'\n        }\n      },\n      y: {\n        type: 'linear',\n        display: true,\n        position: 'left',\n        title: {\n          display: true,\n          text: 'Calories'\n        }\n      },\n      y1: {\n        type: 'linear',\n        display: true,\n        position: 'right',\n        title: {\n          display: true,\n          text: 'Protein (g)'\n        },\n        grid: {\n          drawOnChartArea: false,\n        },\n      },\n    },\n  };\n\n  const monthlyChartData = {\n    labels: monthlyAnalytics.map(m => `${m.month} ${m.year}`),\n    datasets: [\n      {\n        label: 'Days Logged',\n        data: monthlyAnalytics.map(m => m.days_logged),\n        backgroundColor: 'rgba(53, 162, 235, 0.5)',\n      },\n      {\n        label: 'Goal Adherence %',\n        data: monthlyAnalytics.map(m => m.goal_adherence),\n        backgroundColor: 'rgba(255, 206, 86, 0.5)',\n      },\n    ],\n  };\n\n  if (!isAuthenticated) {\n    return <AuthScreen />;\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Achievement Notifications */}\n      <AchievementNotification \n        achievements={newAchievements}\n        onClose={() => setNewAchievements([])}\n      />\n\n      {/* Header */}\n      <header className=\"bg-white shadow-sm border-b border-gray-200\">\n        <div className=\"container mx-auto px-4 py-4\">\n          <div className=\"flex items-center justify-between\">\n            <h1 className=\"heading-3\">CaloriePro</h1>\n            <div className=\"flex items-center space-x-4\">\n              {streaks && (\n                <div className=\"flex items-center space-x-2\">\n                  <span className=\"text-2xl\">🔥</span>\n                  <span className=\"body-small text-gray-600\">{streaks.current_streak} day streak</span>\n                </div>\n              )}\n              <div className=\"flex items-center space-x-2\">\n                <span className=\"body-small text-gray-600\">Hi, {user?.name}!</span>\n                <button \n                  onClick={logout}\n                  className=\"p-2 text-gray-600 hover:text-red-600\"\n                  title=\"Logout\"\n                >\n                  <LogoutIcon />\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      {/* Navigation */}\n      <nav className=\"bg-white border-b border-gray-200\">\n        <div className=\"container mx-auto px-4\">\n          <div className=\"flex space-x-1\">\n            <button\n              onClick={() => setCurrentView('camera')}\n              className={`nav-link ${currentView === 'camera' ? 'bg-blue-50 text-blue-600' : ''}`}\n            >\n              <CameraIcon />\n              <span className=\"ml-2\">Scan Food</span>\n            </button>\n            <button\n              onClick={() => setCurrentView('stats')}\n              className={`nav-link ${currentView === 'stats' ? 'bg-blue-50 text-blue-600' : ''}`}\n            >\n              <StatsIcon />\n              <span className=\"ml-2\">Daily Stats</span>\n            </button>\n            <button\n              onClick={() => { setCurrentView('achievements'); }}\n              className={`nav-link ${currentView === 'achievements' ? 'bg-blue-50 text-blue-600' : ''}`}\n            >\n              <TrophyIcon />\n              <span className=\"ml-2\">Achievements</span>\n            </button>\n            <button\n              onClick={() => { setCurrentView('analytics'); loadAnalytics(); }}\n              className={`nav-link ${currentView === 'analytics' ? 'bg-blue-50 text-blue-600' : ''}`}\n            >\n              <AnalyticsIcon />\n              <span className=\"ml-2\">Analytics</span>\n            </button>\n          </div>\n        </div>\n      </nav>\n\n      {/* Main Content */}\n      <main className=\"container mx-auto px-4 py-6\">\n        {currentView === 'camera' && (\n          <div className=\"space-y-6\">\n            {/* Daily Summary Card */}\n            {dailyStats && (\n              <div className=\"service-card\">\n                <h3 className=\"service-card-title mb-4\">Today's Progress</h3>\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div className=\"text-center\">\n                    <div className=\"heading-4 text-blue-600\">{dailyStats.total_calories}</div>\n                    <div className=\"body-small text-gray-600\">of {dailyStats.recommended_calories} calories</div>\n                    <div className=\"w-full bg-gray-200 rounded-full h-2 mt-2\">\n                      <div \n                        className={`h-2 rounded-full ${dailyStats.calorie_goal_met ? 'bg-green-500' : 'bg-blue-500'}`}\n                        style={{ width: `${Math.min((dailyStats.total_calories / dailyStats.recommended_calories) * 100, 100)}%` }}\n                      ></div>\n                    </div>\n                  </div>\n                  <div className=\"text-center\">\n                    <div className=\"heading-4 text-green-600\">{dailyStats.total_protein}g</div>\n                    <div className=\"body-small text-gray-600\">of {dailyStats.recommended_protein}g protein</div>\n                    <div className=\"w-full bg-gray-200 rounded-full h-2 mt-2\">\n                      <div \n                        className={`h-2 rounded-full ${dailyStats.protein_goal_met ? 'bg-green-500' : 'bg-orange-500'}`}\n                        style={{ width: `${Math.min((dailyStats.total_protein / dailyStats.recommended_protein) * 100, 100)}%` }}\n                      ></div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Camera/Upload Section */}\n            <div className=\"service-card text-center\">\n              {!capturedImage ? (\n                <>\n                  <h3 className=\"service-card-title mb-4\">Scan or Upload Food Image</h3>\n                  \n                  {!cameraActive ? (\n                    <div className=\"space-y-4\">\n                      <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n                        <button onClick={startCamera} className=\"btn-primary\">\n                          <CameraIcon />\n                          <span className=\"ml-2\">Take Photo</span>\n                        </button>\n                        <button \n                          onClick={() => fileInputRef.current?.click()}\n                          className=\"btn-secondary\"\n                        >\n                          <UploadIcon />\n                          <span className=\"ml-2\">Upload Image</span>\n                        </button>\n                      </div>\n                      <input\n                        ref={fileInputRef}\n                        type=\"file\"\n                        accept=\"image/*\"\n                        onChange={handleFileUpload}\n                        className=\"hidden\"\n                      />\n                    </div>\n                  ) : (\n                    <div className=\"space-y-4\">\n                      <video\n                        ref={videoRef}\n                        autoPlay\n                        playsInline\n                        className=\"w-full max-w-md mx-auto rounded-lg\"\n                      />\n                      <div className=\"flex gap-4 justify-center\">\n                        <button onClick={capturePhoto} className=\"btn-primary\">\n                          Capture Photo\n                        </button>\n                        <button onClick={stopCamera} className=\"btn-secondary\">\n                          Cancel\n                        </button>\n                      </div>\n                    </div>\n                  )}\n                </>\n              ) : (\n                <div className=\"space-y-4\">\n                  <img\n                    src={capturedImage}\n                    alt=\"Captured food\"\n                    className=\"w-full max-w-md mx-auto rounded-lg\"\n                  />\n                  \n                  {!analysisResult ? (\n                    <div className=\"flex gap-4 justify-center\">\n                      <button \n                        onClick={analyzeFood} \n                        disabled={isAnalyzing}\n                        className=\"btn-primary\"\n                      >\n                        {isAnalyzing ? 'Analyzing...' : 'Analyze Food'}\n                      </button>\n                      <button onClick={resetCapture} className=\"btn-secondary\">\n                        Retake\n                      </button>\n                    </div>\n                  ) : (\n                    <div className=\"space-y-4\">\n                      <div className=\"bg-gray-50 rounded-lg p-4 text-left\">\n                        <h4 className=\"heading-4 mb-2\">{analysisResult.food_name}</h4>\n                        <div className=\"grid grid-cols-2 gap-2 body-small\">\n                          <div>Portion: {analysisResult.estimated_portion_g}g</div>\n                          <div>Confidence: {analysisResult.confidence}</div>\n                          <div>Calories: {analysisResult.total_calories}</div>\n                          <div>Protein: {analysisResult.total_protein}g</div>\n                        </div>\n                      </div>\n                      <div className=\"flex gap-4 justify-center\">\n                        <button onClick={logFood} className=\"btn-primary\">\n                          Log This Food\n                        </button>\n                        <button onClick={resetCapture} className=\"btn-secondary\">\n                          Start Over\n                        </button>\n                      </div>\n                    </div>\n                  )}\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n\n        {currentView === 'stats' && (\n          <div className=\"space-y-6\">\n            {/* Daily Stats */}\n            {dailyStats && (\n              <div className=\"service-card\">\n                <h3 className=\"service-card-title mb-4\">Daily Nutrition Summary</h3>\n                <div className=\"space-y-4\">\n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"body-medium\">Calories</span>\n                    <span className=\"heading-4\">{dailyStats.total_calories} / {dailyStats.recommended_calories}</span>\n                  </div>\n                  <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                    <div \n                      className={`h-2 rounded-full ${dailyStats.calorie_goal_met ? 'bg-green-500' : 'bg-blue-500'}`}\n                      style={{ width: `${Math.min((dailyStats.total_calories / dailyStats.recommended_calories) * 100, 100)}%` }}\n                    ></div>\n                  </div>\n                  \n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"body-medium\">Protein</span>\n                    <span className=\"heading-4\">{dailyStats.total_protein}g / {dailyStats.recommended_protein}g</span>\n                  </div>\n                  <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                    <div \n                      className={`h-2 rounded-full ${dailyStats.protein_goal_met ? 'bg-green-500' : 'bg-orange-500'}`}\n                      style={{ width: `${Math.min((dailyStats.total_protein / dailyStats.recommended_protein) * 100, 100)}%` }}\n                    ></div>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Streak Information */}\n            {streaks && (\n              <div className=\"service-card\">\n                <h3 className=\"service-card-title mb-4\">Your Streaks 🔥</h3>\n                <div className=\"grid grid-cols-3 gap-4 text-center\">\n                  <div>\n                    <div className=\"heading-3 text-orange-600\">{streaks.current_streak}</div>\n                    <div className=\"body-small text-gray-600\">Current Streak</div>\n                  </div>\n                  <div>\n                    <div className=\"heading-3 text-purple-600\">{streaks.longest_streak}</div>\n                    <div className=\"body-small text-gray-600\">Longest Streak</div>\n                  </div>\n                  <div>\n                    <div className=\"heading-3 text-blue-600\">{streaks.total_days_logged}</div>\n                    <div className=\"body-small text-gray-600\">Total Days</div>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Food Entries */}\n            <div className=\"service-card\">\n              <h3 className=\"service-card-title mb-4\">Today's Food Log</h3>\n              {foodEntries.length > 0 ? (\n                <div className=\"space-y-3\">\n                  {foodEntries.map((entry) => (\n                    <div key={entry.id} className=\"border-b border-gray-200 pb-3 last:border-b-0\">\n                      <div className=\"flex justify-between items-start\">\n                        <div>\n                          <div className=\"body-medium font-medium\">{entry.food_name}</div>\n                          <div className=\"body-small text-gray-600\">\n                            {entry.estimated_portion_g}g portion\n                          </div>\n                        </div>\n                        <div className=\"text-right\">\n                          <div className=\"body-small\">{entry.total_calories} cal</div>\n                          <div className=\"body-small text-gray-600\">{entry.total_protein}g protein</div>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              ) : (\n                <p className=\"body-medium text-gray-500 text-center py-4\">\n                  No food entries for today. Start scanning your meals!\n                </p>\n              )}\n            </div>\n          </div>\n        )}\n\n        {currentView === 'achievements' && (\n          <div className=\"space-y-6\">\n            <div className=\"service-card\">\n              <h3 className=\"service-card-title mb-4\">Your Achievements 🏆</h3>\n              \n              {achievements.length > 0 ? (\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  {achievements.map((achievement) => (\n                    <div key={achievement.id} className=\"border border-gray-200 rounded-lg p-4\">\n                      <div className=\"flex items-center space-x-3\">\n                        <span className=\"text-3xl\">{achievement.badge_icon}</span>\n                        <div className=\"flex-1\">\n                          <div className=\"body-medium font-semibold\">{achievement.name}</div>\n                          <div className=\"body-small text-gray-600\">{achievement.description}</div>\n                          <div className=\"flex justify-between items-center mt-2\">\n                            <span className={`px-2 py-1 rounded text-xs font-medium ${\n                              achievement.rarity === 'platinum' ? 'bg-gray-900 text-white' :\n                              achievement.rarity === 'gold' ? 'bg-yellow-500 text-white' :\n                              achievement.rarity === 'silver' ? 'bg-gray-400 text-white' :\n                              'bg-amber-600 text-white'\n                            }`}>\n                              {achievement.rarity.toUpperCase()}\n                            </span>\n                            <span className=\"body-small text-gray-500\">+{achievement.points} pts</span>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              ) : (\n                <div className=\"text-center py-8\">\n                  <span className=\"text-6xl\">🏆</span>\n                  <p className=\"body-medium text-gray-500 mt-4\">\n                    No achievements yet. Start logging meals to unlock your first badge!\n                  </p>\n                </div>\n              )}\n            </div>\n\n            {/* Achievement Progress Hints */}\n            <div className=\"service-card\">\n              <h3 className=\"service-card-title mb-4\">Next Milestones</h3>\n              <div className=\"space-y-2\">\n                <div className=\"body-small text-gray-600\">\n                  🔥 Log meals for {Math.max(3 - (streaks?.current_streak || 0), 0)} more days to unlock \"Three Day Warrior\"\n                </div>\n                <div className=\"body-small text-gray-600\">\n                  💪 Meet your protein goal to unlock \"Protein Seeker\"\n                </div>\n                <div className=\"body-small text-gray-600\">\n                  📝 Log {Math.max(50 - (streaks?.total_days_logged || 0), 0)} more meals to become a \"Dedicated Logger\"\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {currentView === 'analytics' && (\n          <div className=\"space-y-6\">\n            {/* Analytics Summary */}\n            {analyticsSummary && (\n              <div className=\"service-card\">\n                <h3 className=\"service-card-title mb-4\">Analytics Overview</h3>\n                <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                  <div className=\"text-center\">\n                    <div className=\"heading-3 text-blue-600\">{analyticsSummary.total_entries}</div>\n                    <div className=\"body-small text-gray-600\">Total Entries</div>\n                  </div>\n                  <div className=\"text-center\">\n                    <div className=\"heading-3 text-orange-600\">{analyticsSummary.current_streak}</div>\n                    <div className=\"body-small text-gray-600\">Current Streak</div>\n                  </div>\n                  <div className=\"text-center\">\n                    <div className=\"heading-3 text-purple-600\">{analyticsSummary.total_achievements}</div>\n                    <div className=\"body-small text-gray-600\">Achievements</div>\n                  </div>\n                  <div className=\"text-center\">\n                    <div className=\"heading-3 text-green-600\">{analyticsSummary.this_month_entries}</div>\n                    <div className=\"body-small text-gray-600\">This Month</div>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Weekly Trends Chart */}\n            {weeklyAnalytics.length > 0 && (\n              <div className=\"service-card\">\n                <h3 className=\"service-card-title mb-4\">Weekly Nutrition Trends</h3>\n                <div className=\"h-96\">\n                  <Line data={weeklyChartData} options={weeklyChartOptions} />\n                </div>\n              </div>\n            )}\n\n            {/* Monthly Consistency Chart */}\n            {monthlyAnalytics.length > 0 && (\n              <div className=\"service-card\">\n                <h3 className=\"service-card-title mb-4\">Monthly Consistency</h3>\n                <div className=\"h-96\">\n                  <Bar data={monthlyChartData} options={{\n                    responsive: true,\n                    maintainAspectRatio: false,\n                    scales: {\n                      y: {\n                        beginAtZero: true,\n                        title: {\n                          display: true,\n                          text: 'Count / Percentage'\n                        }\n                      }\n                    }\n                  }} />\n                </div>\n              </div>\n            )}\n\n            {/* Monthly Analytics Table */}\n            {monthlyAnalytics.length > 0 && (\n              <div className=\"service-card\">\n                <h3 className=\"service-card-title mb-4\">Monthly Breakdown</h3>\n                <div className=\"overflow-x-auto\">\n                  <table className=\"w-full text-left\">\n                    <thead>\n                      <tr className=\"border-b\">\n                        <th className=\"body-small text-gray-600 pb-2\">Month</th>\n                        <th className=\"body-small text-gray-600 pb-2\">Days Logged</th>\n                        <th className=\"body-small text-gray-600 pb-2\">Avg Calories</th>\n                        <th className=\"body-small text-gray-600 pb-2\">Avg Protein</th>\n                        <th className=\"body-small text-gray-600 pb-2\">Goal Adherence</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {monthlyAnalytics.map((month, index) => (\n                        <tr key={index} className=\"border-b\">\n                          <td className=\"body-medium py-2\">{month.month} {month.year}</td>\n                          <td className=\"body-small py-2\">{month.days_logged}</td>\n                          <td className=\"body-small py-2\">{month.avg_calories}</td>\n                          <td className=\"body-small py-2\">{month.avg_protein}g</td>\n                          <td className=\"body-small py-2\">{month.goal_adherence}%</td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n            )}\n          </div>\n        )}\n      </main>\n\n      {/* Hidden elements for camera functionality */}\n      <canvas ref={canvasRef} style={{ display: 'none' }} />\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}